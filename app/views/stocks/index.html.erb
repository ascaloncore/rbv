<div class="mb-6">
  <div class="mb-4">
    <h1 class="text-3xl font-bold">在庫一覧</h1>
  </div>

  <% if @stocks.any? %>
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
      <% @stocks.each do |stock| %>
        <div class="card bg-base-100 shadow-xl">
          <div class="card-body">
            <h2 class="card-title"><%= stock.title %></h2>
            <div class="space-y-2">
              <p>
                <span class="font-semibold">カテゴリ:</span>
                <span class="badge badge-outline"><%= stock.category.name %></span>
              </p>
              <% if stock.purchase_price %>
                <p>
                  <span class="font-semibold">購入金額:</span>
                  <span><%= number_to_currency(stock.purchase_price, unit: "¥", format: "%u %n", precision: 0) %></span>
                </p>
              <% end %>
              <% if stock.purchase_date %>
                <p>
                  <span class="font-semibold">購入日:</span>
                  <span><%= stock.purchase_date.strftime("%Y年%m月%d日") %></span>
                </p>
              <% end %>
              <p>
                <span class="font-semibold">ステータス:</span>
                <span class="badge <%= status_badge_class(stock.status) %>"><%= I18n.t("activerecord.enums.stock.status.#{stock.status}") %></span>
              </p>
              <% if stock.impression.present? %>
                <p class="text-sm text-gray-600 overflow-hidden text-ellipsis line-clamp-2"><%= truncate(stock.impression, length: 100) %></p>
              <% end %>
            </div>
            <div class="card-actions justify-end mt-4">
              <%= link_to "詳細", stock_path(stock), class: "btn btn-sm btn-info" %>
              <%= link_to "編集", edit_stock_path(stock), class: "btn btn-sm btn-outline" %>
              <%= link_to "削除", stock_path(stock), data: { turbo_method: :delete, turbo_confirm: "本当に削除しますか？" }, class: "btn btn-sm btn-error" %>
            </div>
          </div>
        </div>
      <% end %>
    </div>
  <% else %>
    <div class="alert alert-info">
      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" class="stroke-current shrink-0 w-6 h-6">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
      </svg>
      <span>在庫が登録されていません。新規登録から登録してください。</span>
    </div>
  <% end %>
</div>
